{% extends 'base.html' %}

{% load static %}

{% block css %}
    <link rel="stylesheet" type="text/css" href="{% static 'styles/bootstrap-4.1.2/bootstrap.min.css' %}">
    <link href="{% static 'plugins/font-awesome-4.7.0/css/font-awesome.min.css' %}" rel="stylesheet" type="text/css">
    <link href="{% static 'plugins/colorbox/colorbox.css' %}" rel="stylesheet" type="text/css">
    <link rel="stylesheet" type="text/css" href="{% static 'styles/single.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'styles/single_responsive.css' %}">
{% endblock %}

{% block content %}
<div class="super_container">
    <div class="super_overlay"></div>

    <!-- Home -->

        <div class="home">
            <div class="parallax_background parallax-window" data-parallax="scroll"
                 data-image-src="{{ product.image1.url }}" data-speed="0.8"></div>
            <div class="container">
                <div class="row">
                    <div class="col">
                        <div class="home_content text-center">
                            <div class="home_title">Listings</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="search">
            <div class="container">
                <div class="row">
                    <div class="col">
                        <div class="search_container">
                            <div class="search_form_container">
                                <form action="#" class="search_form" id="search_form">
                                    <div class="d-flex flex-lg-row flex-column align-items-start justify-content-lg-between justify-content-start">
                                        <div class="search_inputs d-flex flex-lg-row flex-column align-items-start justify-content-lg-between justify-content-start">
                                            <input type="text" class="search_input" placeholder="Property type"
                                                   required="required">
                                            <input type="text" class="search_input" placeholder="No rooms"
                                                   required="required">
                                            <input type="text" class="search_input" placeholder="Location"
                                                   required="required">
                                        </div>
                                        <button class="search_button">submit listing</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="listing_container">
            <div class="container">
                <div class="row">
                    <div class="col">

                        <!-- Image -->
                        <div class="listing_image"><img src="{{ product.image1.url }}" alt="">
                        </div>

                        <!-- Tabs -->
                        <div class="listing_tabs d-flex flex-row align-items-start justify-content-between flex-wrap">

                            <!-- Tab -->
                            <div class="tab">
                                <input type="radio" id="tab_1" name="listing_tabs" checked>
                                <label for="tab_1"></label>
                                <div class="tab_content d-flex flex-xl-row flex-column align-items-center justify-content-center">
                                    <div class="tab_icon"><img src="{% static 'images/house.svg' %}"
                                                               class="svg" alt=""></div>
                                    <span>open house</span>
                                </div>
                            </div>

                            <!-- Tab -->
                            <div class="tab">
                                <input type="radio" id="tab_2" name="listing_tabs">
                                <label for="tab_2"></label>
                                <div class="tab_content d-flex flex-xl-row flex-column align-items-center justify-content-center">
                                    <div class="tab_icon"><img src="{% static 'images/houses.svg' %}"
                                                               class="svg" alt=""></div>
                                    <span>features</span>
                                </div>
                            </div>

                            <!-- Tab -->
                            <div class="tab">
                                <input type="radio" id="tab_3" name="listing_tabs">
                                <label for="tab_3"></label>
                                <div class="tab_content d-flex flex-xl-row flex-column align-items-center justify-content-center">
                                    <div class="tab_icon"><img src="{% static 'images/house2.svg' %}"
                                                               class="svg" alt=""></div>
                                    <span>photos</span>
                                </div>
                            </div>

                            <!-- Tab -->
                            <div class="tab">
                                <input type="radio" id="tab_4" name="listing_tabs">
                                <label for="tab_4"></label>
                                <div class="tab_content d-flex flex-xl-row flex-column align-items-center justify-content-center">
                                    <div class="tab_icon"><img src="{% static 'images/camera.svg' %}"
                                                               class="svg" alt=""></div>
                                    <span>video</span>
                                </div>
                            </div>

                            <!-- Tab -->
                            <div class="tab">
                                <input type="radio" id="tab_5" name="listing_tabs">
                                <label for="tab_5"></label>
                                <div class="tab_content d-flex flex-xl-row flex-column align-items-center justify-content-center">
                                    <div class="tab_icon"><img src="{% static 'images/directions.svg' %}"
                                                               class="svg" alt=""></div>
                                    <span>nearby amenities</span>
                                </div>
                            </div>

                            <!-- Tab -->
                            <div class="tab">
                                <input type="radio" id="tab_6" name="listing_tabs">
                                <label for="tab_6"></label>
                                <div class="tab_content d-flex flex-xl-row flex-column align-items-center justify-content-center">
                                    <div class="tab_icon"><img src="{% static 'images/location.svg' %}"
                                                               class="svg" alt=""></div>
                                    <span>location</span>
                                </div>
                            </div>

                            <!-- Tab -->
                            <div class="tab">
                                <input type="radio" id="tab_7" name="listing_tabs">
                                <label for="tab_7"></label>
                                <div class="tab_content d-flex flex-xl-row flex-column align-items-center justify-content-center">
                                    <div class="tab_icon"><img src="{% static 'images/contract.svg' %}"
                                                               class="svg" alt=""></div>
                                    <span>contact</span>
                                </div>
                            </div>

                        </div>

                        <!-- About -->
                        <div class="about">
                            <div class="row">
                                <div class="col-lg-6">
                                    <div class="property_info">
                                        <div class="tag_price listing_price">$ {{ product.price }}</div>
                                        <div class="listing_name">
                                            <h1>
                                                {% if product.sale_rent == 1 %}
                                                For Sale
                                                {% else %}
                                                For Rent
                                                {% endif %}
                                            </h1>
                                        </div>
                                        <div class="listing_location d-flex flex-row align-items-start justify-content-start">
                                            <img src="{% static 'images/icon_1.png' %}" alt="">
                                            <span>{{ product.address }}</span>
                                        </div>
                                        <div class="listing_list">
                                            <ul>
                                                <li>Property ID: {{ product.id }}</li>
                                                <li>Posted on: {{ product.posted_time }}</li>
                                                <li>Off plan</li>
                                            </ul>
                                        </div>
                                        <div class="prop_agent d-flex flex-row align-items-center justify-content-start">
                                            <div class="prop_agent_image"><img
                                                    src="{% static 'images/agent_1.jpg' %}" alt=""></div>
                                            <div class="prop_agent_name"><a href="#">Maria Smith,</a> Agent</div>
                                        </div>
                                        <div class="prop_info">
                                            <ul class="d-flex flex-row align-items-center justify-content-start flex-wrap">
                                                <li class="d-flex flex-row align-items-center justify-content-start">
                                                    <img src="{% static 'images/icon_2_large.png' %}"
                                                         alt="">
                                                    <div>
                                                        <div>{{ product_info.square }}</div>
                                                        <div>sq ft</div>
                                                    </div>
                                                </li>
                                                <li class="d-flex flex-row align-items-center justify-content-start">
                                                    <img src="{% static 'images/icon_3_large.png' %}"
                                                         alt="">
                                                    <div>
                                                        <div>{{ product_info.bath_room }}</div>
                                                        <div>baths</div>
                                                    </div>
                                                </li>
                                                <li class="d-flex flex-row align-items-center justify-content-start">
                                                    <img src="{% static 'images/icon_4_large.png' %}"
                                                         alt="">
                                                    <div>
                                                        <div>{{ product_info.room_count }}</div>
                                                        <div>beds</div>
                                                    </div>
                                                </li>
                                                <li class="d-flex flex-row align-items-center justify-content-start">
                                                    <img src="{% static 'images/icon_5_large.png' %}"
                                                         alt="">
                                                    <div>
                                                        <div>
                                                            {% if product_info.has_garage %}
                                                            1
                                                            {% else %}
                                                            0
                                                            {% endif %}
                                                        </div>
                                                        <div>garages</div>
                                                    </div>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="about_text">
                                        <p>{{ product.description }}</p>
                                        {% ifequal product.author.username user.username %}
                                        <!-- Button trigger modal -->
                                        <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModalCenter">
                                            Update
                                        </button>
                                        <button type="button" class="btn btn-danger" data-toggle="modal" data-target="#exampleModalCenter1">
                                            Delete
                                        </button>
                                        {% endifequal %}
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="listing_features">
                                        <div class="listing_title"><h3>Features</h3></div>
                                        <div class="row">
                                            <div class="col-lg-6">
                                                <ul>
                                                    <li>2 car garages</li>
                                                    <li>3 bedrooms</li>
                                                    <li>heated floors</li>
                                                    <li>contemporary architecture</li>
                                                    <li>swimming pool</li>
                                                    <li>exercise room</li>
                                                    <li>formal entry</li>
                                                </ul>
                                            </div>
                                            <div class="col-lg-6">
                                                <ul>
                                                    <li>patio</li>
                                                    <li>close to stores</li>
                                                    <li>ocean view</li>
                                                    <li>spa</li>
                                                    <li>sprinklers</li>
                                                    <li>garden</li>
                                                    <li>alley</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="listing_video">
                                        <div class="listing_title"><h3>Video</h3></div>
                                        <div class="video_container d-flex flex-column align-items-center justify-content-center">
                                            <img src="{% static 'images/video.jpg' %}" alt="">
                                            <div class="video_button"><a class="youtube"
                                                                         href="https://www.youtube.com/embed/IV3ueyrp5M4?autoplay=1"><i
                                                    class="fa fa-play" aria-hidden="true"></i></a></div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Modal -->
                                <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
                                    <div class="modal-dialog modal-dialog-centered" role="document">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                        <h5 class="modal-title" id="exampleModalCenterTitle">Update product</h5>
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                            <span aria-hidden="true">&times;</span>
                                        </button>
                                        </div>
                                        <div class="modal-body">

                                            <form method="post">
                                                {% csrf_token %}
                                                <input type="hidden" name="update_or_delete" value="update">
                                                <div class="form-group">
                                                    <label for="exampleAddress">Address</label>
                                                    <input
                                                        type="text"
                                                        name="address"
                                                        class="form-control"
                                                        id="exampleAddress"
                                                        placeholder="Enter your address"
                                                        value="{{ product.address }}"
                                                    >
                                                </div>
                                                <div class="form-group">
                                                    <label for="examplePrice">Price</label>
                                                    <input
                                                        type="number"
                                                        name="price"
                                                        class="form-control"
                                                        id="examplePrice"
                                                        placeholder="Price"
                                                        value="{{ product.price }}"
                                                    >
                                                </div>
                                                <div class="form-group">
                                                    <label for="exampleImage1">Image</label>
                                                    <input type="file" name="image1" class="form-control" id="exampleImage1" placeholder="Enter image" value="{{ product.image1 }}">
                                                </div>
                                                <div class="form-group">
                                                    <label for="exampleImage2">Image</label>
                                                    <input type="file" name="image2" class="form-control" id="exampleImage2" placeholder="Enter image" value="{{ product.image2 }}">
                                                </div>
                                                <div class="form-group">
                                                    <label for="exampleImage3">Image</label>
                                                    <input type="file" name="image3" class="form-control" id="exampleImage3" placeholder="Enter image" value="{{ product.image3 }}">
                                                </div>
                                                <div class="form-group">
                                                    <label for="exampleImage4">Image</label>
                                                    <input type="file" name="image4" class="form-control" id="exampleImage4" placeholder="Enter image" value="{{ product.image4 }}">
                                                </div>
                                                <div class="form-group">
                                                    <label for="exampleImage5">Image</label>
                                                    <input type="file" name="image5" class="form-control" id="exampleImage5" placeholder="Enter image" value="{{ product.image5 }}">
                                                </div>
                                                <div class="form-group">
                                                  <label for="exampleDescription">Description</label>
                                                  <textarea name="description" id="exampleDescription" class="form-control" cols="30" rows="5"  value="{{ product.description }}"></textarea>
                                                </div>
                                                <div class="form-group">
                                                  <label for="exampleInputPassword1">Sale or Rent</label>
                                                  <select name="sale_rent" id="exampleInputPassword1" class="form-control">
                                                    <option value="1" {% if product.sale_rent is 1 %} selected {% endif %}>Sale</option>
                                                    <option value="2" {% if product.sale_rent is 2 %} selected {% endif %}>Rent</option>
                                                  </select>
                                                </div>
                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                                    <button type="submit" class="btn btn-primary">Save</button>
                                                </div>
                                              </form>
                                        </div>
                                    </div>
                                    </div>
                                </div>

                                <div class="modal" tabindex="-1" id="exampleModalCenter1" role="dialog">
                                    <div class="modal-dialog" role="document">
                                      <div class="modal-content">
                                        <div class="modal-header">
                                          <h5 class="modal-title">Delete</h5>
                                          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                            <span aria-hidden="true">&times;</span>
                                          </button>
                                        </div>
                                        <div class="modal-body">
                                          <p>Are you sure delete this product ?</p>
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                                            <form method="post">
                                                {% csrf_token %}
                                                <input type="hidden" name="update_or_delete" value="delete">
                                                <button type="submit" class="btn btn-danger">Delete</button>
                                            </form>
                                        </div>
                                      </div>
                                    </div>
                                  </div>

                            </div>
                        </div>
                        <div class="google_map_container">
                            <div class="map">
                                <div id="google_map" class="google_map">
                                    <div class="map_container">
                                        <div id="map"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    <!-- Footer -->

    </div>
{% endblock %}
{% block js %}

    <script src="{% static 'js/jquery-3.3.1.min.js' %}"></script>
    <script src="{% static 'styles/bootstrap-4.1.2/popper.js' %}"></script>
    <script src="{% static 'styles/bootstrap-4.1.2/bootstrap.min.js' %}"></script>
    <script src="{% static 'plugins/greensock/TweenMax.min.js' %}"></script>
    <script src="{% static 'plugins/greensock/TimelineMax.min.js' %}"></script>
    <script src="{% static 'plugins/scrollmagic/ScrollMagic.min.js' %}"></script>
    <script src="{% static 'plugins/greensock/animation.gsap.min.js' %}"></script>
    <script src="{% static 'plugins/greensock/ScrollToPlugin.min.js' %}"></script>
    <script src="{% static 'plugins/easing/easing.js' %}"></script>
    <script src="{% static 'plugins/progressbar/progressbar.min.js' %}"></script>
    <script src="{% static 'plugins/parallax-js-master/parallax.min.js' %}"></script>
    <script src="{% static 'plugins/colorbox/jquery.colorbox-min.js' %}"></script>
    <script src="{% static 'https://maps.googleapis.com/maps/api/js?v=3.exp&key=AIzaSyCIwF204lFZg1y4kPSIhKaHEXMLYxxuMhA' %}"></script>
    <script src="{% static 'js/single.js' %}"></script>
{% endblock %}

</body>

</html>